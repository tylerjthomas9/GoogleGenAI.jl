var documenterSearchIndex = {"docs":
[{"location":"api/","page":"API","title":"API","text":"CurrentModule = GoogleGenAI","category":"page"},{"location":"api/","page":"API","title":"API","text":"","category":"page"},{"location":"api/#API","page":"API","title":"API","text":"","category":"section"},{"location":"api/","page":"API","title":"API","text":"GoogleProvider\nSafetySetting\nGenerateContentConfig\ngenerate_content\ngenerate_content_stream\ncount_tokens\nembed_content\nlist_models\ncreate_cached_content\nlist_cached_content\nget_cached_content\nupdate_cached_content\ndelete_cached_content\nupload_file\nget_file\nlist_files\ndelete_file","category":"page"},{"location":"api/#GoogleGenAI.GoogleProvider","page":"API","title":"GoogleGenAI.GoogleProvider","text":"Base.@kwdef struct GoogleProvider <: AbstractGoogleProvider\n    api_key::String = \"\"\n    base_url::String = \"https://generativelanguage.googleapis.com\"\n    api_version::String = \"v1beta\"\nend\n\nA configuration object used to set up and authenticate requests to the Google Generative Language API.\n\n# Fields\n- `api_key::String`: Your Google API key. \n- `base_url::String`: The base URL for the Google Generative Language API. The default is set to `\"https://generativelanguage.googleapis.com\"`.\n- `api_version::String`: The version of the API you wish to access. The default is set to `\"v1beta\"`.\n\n\n\n\n\n","category":"type"},{"location":"api/#GoogleGenAI.SafetySetting","page":"API","title":"GoogleGenAI.SafetySetting","text":"SafetySetting\n\nFields\n\ncategory::String: The type of harmful content to filter. Must be one of:\n\"HARM_CATEGORY_HARASSMENT\"\n\"HARM_CATEGORY_HATE_SPEECH\"\n\"HARM_CATEGORY_SEXUALLY_EXPLICIT\"\n\"HARM_CATEGORY_DANGEROUS_CONTENT\"\n\"HARM_CATEGORY_CIVIC_INTEGRITY\"\nthreshold::String: The sensitivity level for blocking content. Must be one of:\n\"BLOCK_NONE\": \tBlock when high probability of unsafe content is detected.\n\"BLOCK_ONLY_HIGH\": Block only content with a high likelihood of harm.\n\"BLOCK_MEDIUM_AND_ABOVE\": Block when medium or high probability of unsafe content\n\"BLOCK_LOW_AND_ABOVE\": Block when low, medium or high probability of unsafe content\n\"HARM_BLOCK_THRESHOLD_UNSPECIFIED\": Threshold is unspecified, block using default threshold\n\n\n\n\n\n","category":"type"},{"location":"api/#GoogleGenAI.GenerateContentConfig","page":"API","title":"GoogleGenAI.GenerateContentConfig","text":"GenerateContentConfig\n\nOptional model configuration parameters.\n\nFields\n\nhttp_options=(;): Used to override HTTP request options.\nAll keyword arguments supported by the HTTP.request function. Documentation can be found here: https://juliaweb.github.io/HTTP.jl/stable/reference/#HTTP.request.\nsystem_instruction::Union{Nothing,String,Vector{Dict{Symbol,Any}}}: Instructions for the model.\ntemperature::Union{Nothing,Float64}: Controls the degree of randomness in token selection.\ntop_p::Union{Nothing,Float64}: Selects tokens from most to least probable until the sum of their probabilities equals this value.\ntop_k::Union{Nothing,Float64}: Samples the top_k tokens with the highest probabilities at each step.\ncandidate_count::Union{Nothing,Int}: Number of response variations to return.\nmax_output_tokens::Union{Nothing,Int}: Maximum number of tokens that can be generated.\nstop_sequences::Union{Nothing,Vector{String}}: List of strings that tell the model to stop generating text.\nresponse_logprobs::Union{Nothing,Bool}: Whether to return the log probabilities of chosen tokens.\nlogprobs::Union{Nothing,Int}: Number of top candidate tokens to return log probabilities for.\npresence_penalty::Union{Nothing,Float64}: Penalizes tokens that already appear, increasing diversity.\nfrequency_penalty::Union{Nothing,Float64}: Penalizes tokens that appear repeatedly, increasing diversity.\nseed::Union{Nothing,Int}: Fixed seed for reproducibility; otherwise, a random number is used.\nresponse_mime_type::Union{Nothing,String}: Output response media type.\nresponse_schema::Union{Nothing,Dict{Symbol,Any}}: Schema that the generated candidate text must adhere to.\nrouting_config::Union{Nothing,Dict{Symbol,Any}}: Configuration for model router requests.\nsafety_settings::Union{Nothing,Vector{SafetySetting}}: Safety settings to block unsafe content.\ntools::Union{Nothing,Vector{Dict{Symbol,Any}}}: Enables interaction with external systems.\ntool_config::Union{Nothing,Dict{Symbol,Any}}: Associates model output to a specific function call.\nlabels::Union{Nothing,Dict{String,String}}: User-defined metadata labels.\ncached_content::Union{Nothing,String}: Resource name of a context cache.\nresponse_modalities::Union{Nothing,Vector{String}}: Requested modalities of the response.\nmedia_resolution::Union{Nothing,String}: Specified media resolution.\nspeech_config::Union{Nothing,Dict{Symbol,Any}}: Speech generation configuration.\naudio_timestamp::Union{Nothing,Bool}: Whether to include audio timestamp in the request.\nautomatic_function_calling::Union{Nothing,Dict{Symbol,Any}}: Configuration for automatic function calling.\nthinking_config::Union{Nothing,Dict{Symbol,Any}}: Thinking features configuration.\n\n\n\n\n\n","category":"type"},{"location":"api/#GoogleGenAI.generate_content","page":"API","title":"GoogleGenAI.generate_content","text":"generate_content(provider::AbstractGoogleProvider, model_name::String, prompt::String; image_path::String, config=GenerateContentConfig()) -> NamedTuple\ngenerate_content(api_key::String, model_name::String, prompt::String; image_path::String, config=GenerateContentConfig()) -> NamedTuple\n\ngenerate_content(provider::AbstractGoogleProvider, model_name::String, conversation::Vector{Dict{Symbol,Any}}; config=GenerateContentConfig()) -> NamedTuple\ngenerate_content(api_key::String, model_name::String, conversation::Vector{Dict{Symbol,Any}}; config=GenerateContentConfig()) -> NamedTuple\n\nGenerate content based on a combination of text prompt and an image (optional).\n\nArguments\n\nprovider::AbstractGoogleProvider: The provider instance for API requests.\napi_key::String: Your Google API key as a string. \nmodel_name::String: The model to use for content generation.\nprompt::String: The text prompt to accompany the image.\n\nKeyword Arguments\n\nimage_path::String (optional): The path to the image file to include in the request.\nconfig::GenerateContentConfig (optional): Configuration for the generation request.\n\nReturns\n\nNamedTuple: A named tuple containing the following keys:\ncandidates: A vector of dictionaries, each representing a generation candidate.\nsafety_ratings: A dictionary containing safety ratings for the prompt feedback.\ntext: A string representing the concatenated text from all candidates.\nresponse_status: An integer representing the HTTP response status code.\nfinish_reason: A string indicating the reason why the generation process was finished.\n\n\n\n\n\n","category":"function"},{"location":"api/#GoogleGenAI.generate_content_stream","page":"API","title":"GoogleGenAI.generate_content_stream","text":"generate_content_stream(provider::AbstractGoogleProvider, model_name::String, prompt::String; image_path::String=\"\", config=GenerateContentConfig()) -> Channel\ngenerate_content_stream(api_key::String, model_name::String, prompt::String; image_path::String=\"\", config=GenerateContentConfig()) -> Channel\n\ngenerate_content_stream(provider::AbstractGoogleProvider, model_name::String, conversation::Vector{Dict{Symbol,Any}}; image_path::String=\"\", config=GenerateContentConfig()) -> Channel\ngenerate_content_stream(api_key::String, model_name::String, conversation::Vector{Dict{Symbol,Any}}; image_path::String=\"\", config=GenerateContentConfig()) -> Channel\n\nGenerate content in a streaming fashion, returning partial results as they become available.\n\nArguments\n\nprovider::AbstractGoogleProvider: The provider instance for API requests.\napi_key::String: Your Google API key as a string. \nmodel_name::String: The model to use for content generation.\nprompt::String: The text prompt to accompany the image.\n\nKeyword Arguments\n\nimage_path::String (optional): The path to the image file to include in the request.\nconfig::GenerateContentConfig (optional): Configuration for the generation request.\n\nReturns\n\nChannel: A channel that yields partial text responses as they become available. Each item in the channel is a named tuple with the following fields:\ntext::String: The partial text response.\nfinish_reason::Union{String,Nothing}: The reason why generation stopped, if applicable.\nis_final::Bool: Whether this is the final chunk of the response.\n\n\n\n\n\n","category":"function"},{"location":"api/#GoogleGenAI.count_tokens","page":"API","title":"GoogleGenAI.count_tokens","text":"count_tokens(provider::AbstractGoogleProvider, model_name::String, prompt::String) -> Int\ncount_tokens(api_key::String, model_name::String, prompt::String) -> Int\n\nCalculate the number of tokens generated by the specified model for a given prompt string.\n\nArguments\n\nprovider::AbstractGoogleProvider: The provider instance containing API key and base URL information.\napi_key::String: Your Google API key as a string. \nmodel_name::String: The name of the model to use for generating content. \nprompt::String: The prompt prompt based on which the text is generated.\n\nReturns\n\nInt: The total number of tokens that the given prompt string would be broken into by the specified model's tokenizer.\n\n\n\n\n\n","category":"function"},{"location":"api/#GoogleGenAI.embed_content","page":"API","title":"GoogleGenAI.embed_content","text":"embed_content(provider::AbstractGoogleProvider, model_name::String, prompt::String; http_kwargs=NamedTuple()) -> NamedTuple\nembed_content(api_key::String, model_name::String, prompt::String; http_kwargs=NamedTuple()) -> NamedTuple\nembed_content(provider::AbstractGoogleProvider, model_name::String, prompts::Vector{String}; http_kwargs=NamedTuple()) -> NamedTuple\nembed_content(api_key::String, model_name::String, prompts::Vector{String}; http_kwargs=NamedTuple()) -> NamedTuple\n\nGenerate an embedding for the given prompt text using the specified model.\n\nArguments\n\nprovider::AbstractGoogleProvider: The provider instance containing API key and base URL information.\napi_key::String: Your Google API key as a string. \nmodel_name::String: The name of the model to use for generating content. \nprompt::String: The prompt prompt based on which the text is generated.\n\nHTTP Kwargs\n\nAll keyword arguments supported by the HTTP.request function. Documentation can be found here: https://juliaweb.github.io/HTTP.jl/stable/reference/#HTTP.request.\n\nReturns\n\nNamedTuple: A named tuple containing the following keys:\nvalues: A vector of Float64 representing the embedding values for the given prompt (or prompts).\nresponse_status: An integer representing the HTTP response status code.\n\n\n\n\n\nembed_content(provider::AbstractGoogleProvider, model_name::String, prompts::Vector{String}; ...) -> NamedTuple\n\nBatch embedding for multiple prompts.\n\n\n\n\n\n","category":"function"},{"location":"api/#GoogleGenAI.list_models","page":"API","title":"GoogleGenAI.list_models","text":"list_models(provider::AbstractGoogleProvider) -> Vector{Dict}\nlist_models(api_key::String) -> Vector{Dict}\n\nRetrieve a list of available models along with their details from the Google AI API.\n\nArguments\n\nprovider::AbstractGoogleProvider: The provider instance containing API key and base URL information.\napi_key::String: Your Google API key as a string. \n\nReturns\n\nVector{Dict}: A list of dictionaries, each containing details about an available model.\n\n\n\n\n\n","category":"function"},{"location":"api/#GoogleGenAI.create_cached_content","page":"API","title":"GoogleGenAI.create_cached_content","text":"create_cached_content(\n    provider::AbstractGoogleProvider,\n    model_name::String,\n    content::Union{String,Vector{Dict{Symbol,Any}},Dict{String,Any}};\n    ttl::String=\"300s\",\n    system_instruction::String=\"\",\n    http_kwargs=NamedTuple()\n) -> JSON3.Object\ncreate_cached_content(\n    api_key::String,\n    model_name::String,\n    content::Union{String,Vector{Dict{Symbol,Any}},Dict{String,Any}};\n    ttl::String=\"300s\",\n    system_instruction::String=\"\",\n    http_kwargs=NamedTuple()\n) -> JSON3.Object\n\nCreate a cached content resource that can be reused in subsequent requests.\n\nArguments\n\nprovider::AbstractGoogleProvider or api_key::String: The provider instance for API requests or your Google API key as a string.\nmodel_name::String: The model to use (e.g. \"gemini-1.5-flash-001\").\ncontent::Union{String,Vector{Dict{Symbol,Any}},Dict{String,Any}}: The content to cache, which can be a single string, an array of conversation messages, or a raw content dictionary.\nttl::String: Time-to-live duration for the cache. Defaults to \"300s\".\nsystem_instruction::String: An optional system instruction for the model.\n\nHTTP Kwargs\n\nAll keyword arguments supported by the HTTP.request function. Documentation can be found here: https://juliaweb.github.io/HTTP.jl/stable/reference/#HTTP.request.\n\nReturns\n\nJSON3.Object: A JSON object containing the metadata of the created cached content resource, including its cache name.\n\n\n\n\n\n","category":"function"},{"location":"api/#GoogleGenAI.list_cached_content","page":"API","title":"GoogleGenAI.list_cached_content","text":"list_cached_content(provider::AbstractGoogleProvider; http_kwargs=NamedTuple()) -> JSON3.Array\nlist_cached_content(api_key::String; http_kwargs=NamedTuple()) -> JSON3.Array\n\nLists the cache metadata for all your cached content. (Does not return the cached content itself.)\n\nArguments\n\nprovider::AbstractGoogleProvider or api_key::String: The provider instance for API requests or your Google API key as a string.\n\nHTTP Kwargs\n\nAll keyword arguments supported by the HTTP.request function. Documentation can be found here: https://juliaweb.github.io/HTTP.jl/stable/reference/#HTTP.request.\n\nReturns\n\nJSON3.Array: A JSON array of objects, where each object represents a cached content resource's metadata.\n\n\n\n\n\n","category":"function"},{"location":"api/#GoogleGenAI.get_cached_content","page":"API","title":"GoogleGenAI.get_cached_content","text":"get_cached_content(provider::AbstractGoogleProvider, cache_name::String; http_kwargs=NamedTuple()) -> JSON3.Object\nget_cached_content(api_key::String, cache_name::String; http_kwargs=NamedTuple()) -> JSON3.Object\n\nRetrieve the metadata for a single cached content resource by its resource name.\n\nArguments\n\nprovider::AbstractGoogleProvider or api_key::String: The provider instance for API requests or your Google API key as a string.\ncache_name::String: The full resource name of the cached content (e.g. \"cachedContents/12345\").\n\nHTTP Kwargs\n\nAll keyword arguments supported by the HTTP.request function. Documentation can be found here: https://juliaweb.github.io/HTTP.jl/stable/reference/#HTTP.request.\n\nReturns\n\nJSON3.Object: A JSON object containing the metadata for the specified cached content.\n\n\n\n\n\n","category":"function"},{"location":"api/#GoogleGenAI.update_cached_content","page":"API","title":"GoogleGenAI.update_cached_content","text":"update_cached_content(provider::AbstractGoogleProvider, cache_name::String, ttl::String; http_kwargs=NamedTuple()) -> JSON3.Object\nupdate_cached_content(api_key::String, cache_name::String, ttl::String, http_kwargs=NamedTuple()) -> JSON3.Object\n\nUpdate the TTL of an existing cached content resource. Attempts to change other fields are not supported.\n\nArguments\n\nprovider::AbstractGoogleProvider or api_key::String: The provider instance for API requests or your Google API key as a string.\ncache_name::String: The full resource name of the cached content (e.g. \"cachedContents/xyz123\").\nttl::String: The new time-to-live value. Defaults to \"600s\".\n\nHTTP Kwargs\n\nAll keyword arguments supported by the HTTP.request function. Documentation can be found here: https://juliaweb.github.io/HTTP.jl/stable/reference/#HTTP.request.\n\nReturns\n\nJSON3.Object: A JSON object containing the updated metadata for the cached content.\n\n\n\n\n\n","category":"function"},{"location":"api/#GoogleGenAI.delete_cached_content","page":"API","title":"GoogleGenAI.delete_cached_content","text":"delete_cached_content(provider::AbstractGoogleProvider, cache_name::String; http_kwargs=NamedTuple()) -> Int\ndelete_cached_content(api_key::String, cache_name::String; http_kwargs=NamedTuple()) -> Int\n\nDelete a cached content resource by its resource name.\n\nArguments\n\nprovider::AbstractGoogleProvider or api_key::String: The provider instance for API requests or your Google API key as a string.\ncache_name::String: The full resource name of the cached content (e.g. \"cachedContents/xyz123\").\n\nHTTP Kwargs\n\nAll keyword arguments supported by the HTTP.request function. Documentation can be found here: https://juliaweb.github.io/HTTP.jl/stable/reference/#HTTP.request.\n\nReturns\n\nInt: The HTTP status code of the deletion request.\n\n\n\n\n\n","category":"function"},{"location":"api/#GoogleGenAI.upload_file","page":"API","title":"GoogleGenAI.upload_file","text":"upload_file(provider::AbstractGoogleProvider, file_path::String; display_name::String=\"\", mime_type::String=\"application/octet-stream\", http_kwargs=NamedTuple()) -> JSON3.Object\n\nUploads a file using the resumable upload protocol.\n\n\n\n\n\n","category":"function"},{"location":"api/#GoogleGenAI.get_file","page":"API","title":"GoogleGenAI.get_file","text":"get_file(provider::AbstractGoogleProvider, file_name::String; http_kwargs=NamedTuple()) -> Any\n\nRetrieves metadata for the file specified by its resource name (e.g. \"files/abc-123\").\n\n\n\n\n\n","category":"function"},{"location":"api/#GoogleGenAI.list_files","page":"API","title":"GoogleGenAI.list_files","text":"list_files(provider::AbstractGoogleProvider; page_size::Int=10, page_token::String=\"\", http_kwargs=NamedTuple()) -> JSON3.Array\n\nLists file metadata for files owned by your project. Use page_size and page_token for pagination.\n\n\n\n\n\n","category":"function"},{"location":"api/#GoogleGenAI.delete_file","page":"API","title":"GoogleGenAI.delete_file","text":"delete_file(provider::AbstractGoogleProvider, file_name::String; http_kwargs=NamedTuple()) -> Int\n\nDeletes the file specified by its resource name (e.g. \"files/abc-123\") and returns the HTTP status code.\n\n\n\n\n\n","category":"function"},{"location":"#GoogleGenAI.jl-Docs","page":"Home","title":"GoogleGenAI.jl Docs","text":"","category":"section"},{"location":"#Overview","page":"Home","title":"Overview","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"A Julia wrapper to the Google generative AI API. For API functionality, see reference documentation.","category":"page"},{"location":"#Installation","page":"Home","title":"Installation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"From source:","category":"page"},{"location":"","page":"Home","title":"Home","text":"julia> using Pkg; Pkg.add(url=\"https://github.com/tylerjthomas9/GoogleGenAI.jl/\")","category":"page"},{"location":"","page":"Home","title":"Home","text":"julia> ]  # enters the pkg interface\nPkg> add https://github.com/tylerjthomas9/GoogleGenAI.jl/","category":"page"},{"location":"#Quick-Start","page":"Home","title":"Quick Start","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Create a secret API key in Google AI Studio.\nSet the GOOGLE_API_KEY environment variable.","category":"page"},{"location":"#Generate-Content","page":"Home","title":"Generate Content","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"using GoogleGenAI\n\nsecret_key = ENV[\"GOOGLE_API_KEY\"]\nmodel = \"gemini-2.0-flash\"\nprompt = \"Hello\"\nresponse = generate_content(secret_key, model, prompt)\nprintln(response.text)","category":"page"},{"location":"","page":"Home","title":"Home","text":"Gemini API config:","category":"page"},{"location":"","page":"Home","title":"Home","text":"config = GenerateContentConfig(; max_output_tokens=50)\nresponse = generate_content(secret_key, model, prompt; config)\nprintln(response.text)","category":"page"},{"location":"","page":"Home","title":"Home","text":"Single image input:","category":"page"},{"location":"","page":"Home","title":"Home","text":"prompt = \"What is this image?\"\nimage_path = \"test/input/example.jpg\"\nresponse = generate_content(secret_key, model, prompt; image_path)\nprintln(response.text)","category":"page"},{"location":"#Multi-turn-conversations","page":"Home","title":"Multi-turn conversations","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"using GoogleGenAI\n\nprovider = GoogleProvider(api_key=ENV[\"GOOGLE_API_KEY\"])\nconfig = GenerateContentConfig(; max_output_tokens=50)\nmodel = \"gemini-2.0-flash\"\nconversation = [\n    Dict(:role => \"user\", :parts => [Dict(:text => \"When was Julia 1.0 released?\")])\n]\n\nresponse = generate_content(provider, model, conversation; config)\npush!(conversation, Dict(:role => \"model\", :parts => [Dict(:text => response.text)]))\nprintln(\"Model: \", response.text) \n\npush!(conversation, Dict(:role => \"user\", :parts => [Dict(:text => \"Who created the language?\")]))\nresponse = generate_content(provider, model, conversation; config)\nprintln(\"Model: \", response.text)","category":"page"},{"location":"#Streaming-Content-Generation","page":"Home","title":"Streaming Content Generation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"using GoogleGenAI\n\nsecret_key = ENV[\"GOOGLE_API_KEY\"]\nmodel = \"gemini-2.0-flash\"\nprompt = \"Why is the sky blue?\"\n\n# Get a channel that yields partial results\nstream = generate_content_stream(secret_key, model, prompt)\n\n# Process the stream as results arrive\nix = 0\nfor chunk in stream\n    print(chunk.text)\nend","category":"page"},{"location":"","page":"Home","title":"Home","text":"For multi-turn conversations with streaming:","category":"page"},{"location":"","page":"Home","title":"Home","text":"using GoogleGenAI\n\nprovider = GoogleProvider(api_key=ENV[\"GOOGLE_API_KEY\"])\nmodel = \"gemini-2.0-flash\"\nconversation = [\n    Dict(:role => \"user\", :parts => [Dict(:text => \"Write a short poem about Julia programming language\")])\n]\n\n# First message\nprintln(\"Generating first response...\")\nstream = generate_content_stream(provider, model, conversation)\nlast_response = \"\"\n\nfor chunk in stream\n    println(\"Response: \", chunk.text)\nend","category":"page"},{"location":"#Generate/Edit-Images","page":"Home","title":"Generate/Edit Images","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Generate image using Gemini:","category":"page"},{"location":"","page":"Home","title":"Home","text":"using GoogleGenAI\n\nsecret_key = ENV[\"GOOGLE_API_KEY\"]\nconfig = GenerateContentConfig(\n    response_modalities=[\"Text\", \"Image\"]\n)\n\nprompt = (\"Hi, can you create a 3d rendered image of a pig \"*\n            \"with wings and a top hat flying over a happy \"*\n            \"futuristic scifi city with lots of greenery?\")\n\nresponse = generate_content(\n    secret_key,\n    \"gemini-2.0-flash-exp-image-generation\",\n    prompt;\n    config\n);\n\nif !isempty(response.images)\n    open(\"gemini-native-image.png\", \"w\") do io\n        write(io, response.images[1].data)\n    end\nend","category":"page"},{"location":"","page":"Home","title":"Home","text":"Edit image with Gemini:","category":"page"},{"location":"","page":"Home","title":"Home","text":"image_path = \"gemini-native-image.png\"\n\nmodel = \"gemini-2.0-flash-exp-image-generation\"\nprompt = \"Make the pig a llama\"\nresponse = generate_content(\n    secret_key,\n    model,\n    prompt;\n    image_path,\n    config\n);\n\nif !isempty(response.images)\n    open(\"gemini-native-image-edited.png\", \"w\") do io\n        write(io, response.images[1].data)\n    end\nend","category":"page"},{"location":"#Count-Tokens","page":"Home","title":"Count Tokens","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"using GoogleGenAI\nmodel = \"gemini-2.0-flash\"\nn_tokens = count_tokens(ENV[\"GOOGLE_API_KEY\"], model, \"The Julia programming language\")\nprintln(n_tokens)","category":"page"},{"location":"","page":"Home","title":"Home","text":"outputs","category":"page"},{"location":"","page":"Home","title":"Home","text":"4","category":"page"},{"location":"#Create-Embeddings","page":"Home","title":"Create Embeddings","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"using GoogleGenAI\nembeddings = embed_content(ENV[\"GOOGLE_API_KEY\"], \"text-embedding-004\", \"Hello\")\nprintln(size(embeddings.values))","category":"page"},{"location":"","page":"Home","title":"Home","text":"outputs","category":"page"},{"location":"","page":"Home","title":"Home","text":"(768,)","category":"page"},{"location":"","page":"Home","title":"Home","text":"using GoogleGenAI\nembeddings = embed_content(ENV[\"GOOGLE_API_KEY\"], \"text-embedding-004\", [\"Hello\", \"world\"])\nprintln(embeddings.response_status)\nprintln(size(embeddings.values[1]))\nprintln(size(embeddings.values[2]))","category":"page"},{"location":"","page":"Home","title":"Home","text":"outputs","category":"page"},{"location":"","page":"Home","title":"Home","text":"200\n(768,)\n(768,)","category":"page"},{"location":"#List-Models","page":"Home","title":"List Models","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"using GoogleGenAI\nmodels = list_models(ENV[\"GOOGLE_API_KEY\"])\nfor m in models\n    if \"generateContent\" in m[:supported_generation_methods]\n        println(m[:name])\n    end\nend","category":"page"},{"location":"","page":"Home","title":"Home","text":"outputs","category":"page"},{"location":"","page":"Home","title":"Home","text":"gemini-1.0-pro-vision-latest\ngemini-pro-vision\ngemini-1.5-pro-latest\ngemini-1.5-pro-001\ngemini-1.5-pro-002\ngemini-1.5-pro\ngemini-1.5-flash-latest\ngemini-1.5-flash-001\ngemini-1.5-flash-001-tuning\ngemini-1.5-flash\ngemini-1.5-flash-002\ngemini-1.5-flash-8b\ngemini-1.5-flash-8b-001\ngemini-1.5-flash-8b-latest\ngemini-1.5-flash-8b-exp-0827\ngemini-1.5-flash-8b-exp-0924\ngemini-2.0-flash-exp\ngemini-2.0-flash\ngemini-2.0-flash-001\ngemini-2.0-flash-exp-image-generation\ngemini-2.0-flash-lite-001\ngemini-2.0-flash-lite\ngemini-2.0-flash-lite-preview-02-05\ngemini-2.0-flash-lite-preview\ngemini-2.0-pro-exp\ngemini-2.0-pro-exp-02-05\ngemini-exp-1206\ngemini-2.0-flash-thinking-exp-01-21\ngemini-2.0-flash-thinking-exp\ngemini-2.0-flash-thinking-exp-1219\nlearnlm-1.5-pro-experimental\ngemma-3-27b-it","category":"page"},{"location":"#Safety-Settings","page":"Home","title":"Safety Settings","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"More information about the safety settings can be found here.","category":"page"},{"location":"","page":"Home","title":"Home","text":"using GoogleGenAI\nsecret_key = ENV[\"GOOGLE_API_KEY\"]\nsafety_settings = [\n    SafetySetting(category=\"HARM_CATEGORY_HARASSMENT\", threshold=\"HARM_BLOCK_THRESHOLD_UNSPECIFIED\"),\n    SafetySetting(category=\"HARM_CATEGORY_HATE_SPEECH\", threshold=\"BLOCK_ONLY_HIGH\"),\n    SafetySetting(category=\"HARM_CATEGORY_SEXUALLY_EXPLICIT\", threshold=\"BLOCK_MEDIUM_AND_ABOVE\"),\n    SafetySetting(category=\"HARM_CATEGORY_DANGEROUS_CONTENT\", threshold=\"BLOCK_LOW_AND_ABOVE\"),\n    SafetySetting(category=\"HARM_CATEGORY_CIVIC_INTEGRITY\", threshold=\"BLOCK_LOW_AND_ABOVE\"),\n]\nmodel = \"gemini-1.5-flash-latest\"\nprompt = \"Hello\"\nconfig = GenerateContentConfig(; safety_settings)\nresponse = generate_content(secret_key, model, prompt; config)","category":"page"},{"location":"#Content-Caching","page":"Home","title":"Content Caching","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"List models that support content caching:","category":"page"},{"location":"","page":"Home","title":"Home","text":"using GoogleGenAI\nmodels = list_models(ENV[\"GOOGLE_API_KEY\"])\nfor m in models\n    if \"createCachedContent\" in m[:supported_generation_methods]\n        println(m[:name])\n    end\nend","category":"page"},{"location":"","page":"Home","title":"Home","text":"gemini-1.5-pro-001\ngemini-1.5-pro-002\ngemini-1.5-flash-001\ngemini-1.5-flash-002\ngemini-1.5-flash-8b\ngemini-1.5-flash-8b-001\ngemini-1.5-flash-8b-latest","category":"page"},{"location":"","page":"Home","title":"Home","text":"Cache content to reuse it across multiple requests:","category":"page"},{"location":"","page":"Home","title":"Home","text":"using GoogleGenAI\n\nprovider = GoogleProvider(api_key=ENV[\"GOOGLE_API_KEY\"])\nmodel = \"gemini-1.5-flash-002\"\n\n# Create cached content (at least 32,786 tokens are required for caching)\ntext = read(\"test/input/example.txt\", String) ^ 7\ncache_result = create_cached_content(\n    provider,\n    model,\n    text,\n    ttl=\"360s\", # Cache for 60 seconds\n    # system_instruction=\"You are Julia's Number 1 fan\",\n)\n\n# Now generate content that references the cached content.\nprompt = \"Please summarize this document\"\nconfig = GenerateContentConfig(; cached_content=cache_result.name)\nresponse = generate_content(\n    provider,\n    model,\n    prompt;\n    config\n)\nprintln(response.text)\n\ndelete_cached_content(provider, cache_result.name)","category":"page"},{"location":"#Files","page":"Home","title":"Files","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Files are only supported in Gemini Developer API.","category":"page"},{"location":"","page":"Home","title":"Home","text":"using GoogleGenAI\n\nprovider = GoogleProvider(api_key=ENV[\"GOOGLE_API_KEY\"])\nfile_path = \"test/input/example.jpg\"\n\n# upload file\nupload_result = upload_file(\n    provider, file_path; display_name=\"Test File\",\n)\n\n# generate content with file\nmodel = \"gemini-2.0-flash-lite\"\nprompt = \"What is this image?\"\ncontents = [prompt, upload_result]\nresponse = generate_content(\n    provider,\n    model,\n    contents;\n)\nprintln(response.text)\n\n# Get file metadata\nget_result = get_file(provider, upload_result[:name])\n\n# List files\nlist_result = list_files(provider)\n\n# Delete file\ndelete_file(provider, upload_result[:name])","category":"page"},{"location":"#Structured-Generation","page":"Home","title":"Structured Generation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Json ","category":"page"},{"location":"","page":"Home","title":"Home","text":"using GoogleGenAI\nusing JSON3\n\n# API key and model\napi_key = ENV[\"GOOGLE_API_KEY\"]\nmodel   = \"gemini-2.0-flash\"\n\n# Define a JSON schema for an Array of Objects\n# Each object has \"recipe_name\" (a String) and \"ingredients\" (an Array of Strings).\nschema = Dict(\n    :type => \"ARRAY\",\n    :items => Dict(\n        :type => \"OBJECT\",\n        :properties => Dict(\n            :recipe_name => Dict(:type => \"STRING\"),\n            :ingredients => Dict(\n                :type  => \"ARRAY\",\n                :items => Dict(:type => \"STRING\")\n            )\n        ),\n        :propertyOrdering => [\"recipe_name\", \"ingredients\"]\n    )\n)\n\nconfig = GenerateContentConfig(\n    response_mime_type = \"application/json\",\n    response_schema    = schema,\n)\n\nprompt = \"List a few popular cookie recipes with exact amounts of each ingredient.\"\nresponse = generate_content(api_key, model, prompt; config=config)\njson_string = response.text\nrecipes = JSON3.read(json_string)\nprintln(recipes)","category":"page"},{"location":"","page":"Home","title":"Home","text":"outputs","category":"page"},{"location":"","page":"Home","title":"Home","text":"JSON3.Object[{\n   \"recipe_name\": \"Chocolate Chip Cookies\",\n   \"ingredients\": [\n                    \"1 cup (2 sticks) unsalted butter, softened\",\n                    \"3/4 cup granulated sugar\",\n                    \"3/4 cup packed brown sugar\",\n                    \"1 teaspoon vanilla extract\",\n                    \"2 large eggs\",\n                    \"2 1/4 cups all-purpose flour\",\n                    \"1 teaspoon baking soda\",\n                    \"1 teaspoon salt\",\n                    \"2 cups chocolate chips\"\n                  ]\n}, {\n   \"recipe_name\": \"Peanut Butter Cookies\",\n   \"ingredients\": [\n                    \"1 cup (2 sticks) unsalted butter, softened\",\n                    \"1 cup creamy peanut butter\",\n                    \"1 cup granulated sugar\",\n                    \"1 cup packed brown sugar\",\n                    \"2 large eggs\",\n                    \"1 teaspoon vanilla extract\",\n                    \"2 1/2 cups all-purpose flour\",\n                    \"1 teaspoon baking soda\",\n                    \"1/2 teaspoon salt\"\n                  ]\n}, {\n   \"recipe_name\": \"Sugar Cookies\",\n   \"ingredients\": [\n                    \"1 1/2 cups (3 sticks) unsalted butter, softened\",\n                    \"2 cups granulated sugar\",\n                    \"4 large eggs\",\n                    \"1 teaspoon vanilla extract\",\n                    \"5 cups all-purpose flour\",\n                    \"2 teaspoons baking powder\",\n                    \"1 teaspoon salt\"\n                  ]\n}]","category":"page"},{"location":"#Code-Generation","page":"Home","title":"Code Generation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"using GoogleGenAI\n\nsecret_key = ENV[\"GOOGLE_API_KEY\"]\nmodel = \"gemini-2.0-flash\"\n\ntools = [Dict(:code_execution => Dict())]\nconfig = GenerateContentConfig(; tools)\n\nprompt = \"Write a function to calculate the factorial of a number.\"\nresponse = generate_content(secret_key, model, prompt; config=config)\nprintln(response.text)","category":"page"}]
}
